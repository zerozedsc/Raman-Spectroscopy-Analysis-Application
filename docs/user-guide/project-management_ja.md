# プロジェクト管理

効率的なプロジェクト管理とワークフロー

---

## 📋 目次

- [プロジェクトの概念](#プロジェクトの概念)
- [プロジェクトの作成](#プロジェクトの作成)
- [プロジェクトの保存](#プロジェクトの保存)
- [プロジェクトの読み込み](#プロジェクトの読み込み)
- [データ管理](#データ管理)
- [前処理パイプライン管理](#前処理パイプライン管理)
- [分析結果の管理](#分析結果の管理)
- [バージョン管理](#バージョン管理)
- [テンプレート](#テンプレート)
- [バックアップ戦略](#バックアップ戦略)

---

## プロジェクトの概念

### プロジェクトとは

```
プロジェクトファイル (.raman_project):
すべての作業内容を保存した単一ファイル

含まれる内容:
✓ ロードしたすべてのスペクトルデータ
✓ グループ情報（名前、色、スタイル）
✓ 前処理パイプライン（設定と履歴）
✓ 分析結果（PCA、統計、ML）
✓ プロット設定とビジュアル化
✓ メタデータとアノテーション
✓ ユーザー設定（ウィンドウ配置など）
```

### プロジェクトのメリット

```
1. 再現性
   - すべての設定を保存
   - いつでも正確に再現可能

2. 共同作業
   - プロジェクトファイルを共有
   - 同じ環境で作業

3. 効率性
   - 中断しても続きから再開
   - 複数の分析を並行管理

4. トレーサビリティ
   - 履歴が残る
   - 変更を追跡可能

5. バックアップ
   - 単一ファイルで管理
   - バックアップが容易
```

---

## プロジェクトの作成

### 新規プロジェクト

```
方法1: メニューから
ファイル → 新規プロジェクト

方法2: ショートカット
Ctrl+N（Windows/Linux）
Cmd+N（macOS）

効果:
- 新しい空のワークスペース
- デフォルト設定
```

### プロジェクトの初期設定

```
ファイル → プロジェクト設定

設定項目:

1. 一般設定
   プロジェクト名: 識別しやすい名前
   説明: プロジェクトの目的
   作成者: 氏名または所属
   作成日: 自動記録

2. データ設定
   デフォルトのデータディレクトリ
   デフォルトの命名規則
   自動保存の設定

3. 前処理設定
   デフォルトのパイプライン
   よく使うパラメータ

4. 可視化設定
   デフォルトのカラーマップ
   フォントサイズ
   図のサイズ
```

---

## プロジェクトの保存

### 基本的な保存

```
ファイル → 保存

ショートカット:
Ctrl+S（Windows/Linux）
Cmd+S（macOS）

ファイル形式:
.raman_project（独自形式）

保存内容:
すべてのデータと設定
```

### 名前を付けて保存

```
ファイル → 名前を付けて保存

用途:
- 新しい名前で保存
- 別の場所に保存
- バージョンの作成

推奨命名規則:
プロジェクト名_日付_バージョン.raman_project

例:
polymer_analysis_20260124_v1.raman_project
blood_serum_study_20260124_baseline.raman_project
quality_control_batch_01_20260124.raman_project
```

### 自動保存

```
編集 → 環境設定 → 自動保存

設定:
□ 自動保存を有効化

間隔: 5分（推奨）

保存先:
プロジェクトディレクトリ/.autosave/

利点:
- 予期せぬクラッシュから保護
- データ損失の防止

注意:
- 手動保存も推奨
- 重要な時点では明示的に保存
```

### プロジェクトのエクスポート

```
ファイル → エクスポート

オプション1: ZIPアーカイブ
プロジェクトファイル + 元のデータファイル

構造:
project_name.zip
├── project.raman_project
├── raw_data/
│   ├── sample001.csv
│   ├── sample002.csv
│   └── ...
├── results/
│   ├── figures/
│   └── tables/
└── README.txt

オプション2: HDF5
大規模データに適した形式

オプション3: フォルダ構造
project_name/
├── data.h5
├── metadata.json
├── pipeline.json
├── results/
└── figures/
```

---

## プロジェクトの読み込み

### プロジェクトを開く

```
方法1: メニュー
ファイル → 開く

方法2: ショートカット
Ctrl+O（Windows/Linux）
Cmd+O（macOS）

方法3: ドラッグ&ドロップ
.raman_projectファイルをウィンドウにドロップ

方法4: ダブルクリック
.raman_projectファイルをダブルクリック

結果:
すべての状態が復元される
- データ
- グループ
- 前処理
- 分析結果
- プロット
```

### 最近使ったプロジェクト

```
ファイル → 最近使ったプロジェクト

表示:
最新10個のプロジェクト

クリックで即座に開く
```

### 復元オプション

```
プロジェクトを開く際のオプション:

□ データパスを更新
  元のデータファイルが移動した場合

□ 分析結果のみをロード
  大規模データで高速化

□ 前処理をスキップ
  結果だけを確認したい場合
```

---

## データ管理

### データの整理

```
ワークスペースタブ → データ管理

表示:
すべてのロード済みスペクトル

機能:
1. グループの作成・編集
2. サンプルの移動
3. データの削除
4. 名前の変更
5. 並び替え

グループの階層:
プロジェクト
├── グループA
│   ├── sample_A_001
│   ├── sample_A_002
│   └── ...
├── グループB
│   ├── sample_B_001
│   ├── sample_B_002
│   └── ...
└── グループC
```

### データの追加

```
データパッケージタブ → インポート

ロード後:
自動的に現在のプロジェクトに追加

オプション:
□ 新しいグループとして追加
□ 既存のグループにマージ
```

### データの削除

```
サンプルを右クリック → 削除

または

複数選択（Ctrl/Cmd + クリック）→ 削除

確認ダイアログ:
「本当に削除しますか？」

注意:
削除後はUndoで復元可能（プロジェクトを閉じる前）
```

---

## 前処理パイプライン管理

### パイプラインの保存

```
前処理タブ → パイプライン → 保存

ファイル形式:
.pipeline.json

保存内容:
{
  "steps": [
    {
      "method": "asls",
      "parameters": {
        "lambda": 100000,
        "p": 0.01
      }
    },
    {
      "method": "savitzky_golay",
      "parameters": {
        "window_length": 11,
        "polyorder": 3
      }
    },
    {
      "method": "vector_norm",
      "parameters": {}
    }
  ],
  "metadata": {
    "name": "Standard Pipeline",
    "description": "Baseline + Smoothing + Normalization",
    "created": "2026-01-24T10:30:00",
    "author": "User"
  }
}
```

### パイプラインの読み込み

```
前処理タブ → パイプライン → 読み込み

.pipeline.jsonファイルを選択

効果:
すべてのステップが復元される

用途:
- 標準的なパイプラインの再利用
- 異なるデータセット間での一貫性
- 共同研究者との共有
```

### パイプラインライブラリ

```
前処理タブ → パイプラインライブラリ

プリセットパイプライン:
1. 探索的分析用
2. 定量分析用
3. 分類用
4. ピーク検出用
5. カスタム（保存したもの）

選択するだけで適用
```

---

## 分析結果の管理

### 結果の保存

```
分析タブ → 結果 → エクスポート

オプション:

1. すべての結果
   - PCA
   - 統計解析
   - クラスタリング
   - MLモデル

2. 選択した結果のみ

3. 図のみ

4. 表のみ

形式:
- Excel（.xlsx）
- CSV
- JSON
- HDF5
```

### 結果の構造化

```
プロジェクトディレクトリ/results/

推奨構造:
results/
├── pca/
│   ├── scores.csv
│   ├── loadings.csv
│   ├── explained_variance.csv
│   └── figures/
│       ├── score_plot.png
│       └── loading_plot.png
├── statistics/
│   ├── ttest_results.csv
│   ├── anova_results.csv
│   └── figures/
├── clustering/
│   ├── kmeans_labels.csv
│   ├── silhouette_scores.csv
│   └── figures/
└── ml/
    ├── model.pkl
    ├── feature_importance.csv
    ├── confusion_matrix.csv
    └── figures/
```

### 結果の比較

```
分析タブ → 比較

機能:
異なる前処理や設定での結果を並べて表示

例:
パイプラインA vs パイプラインB
- PCA explained variance: 75% vs 82%
- 分類精度: 85% vs 90%

→ より良い手法を選択
```

---

## バージョン管理

### プロジェクトのバージョニング

```
ファイル → バージョン → 新しいバージョンを作成

命名規則:
project_name_vX.raman_project

例:
polymer_study_v1.raman_project （初期版）
polymer_study_v2.raman_project （前処理改善）
polymer_study_v3.raman_project （外れ値除去後）
polymer_study_final.raman_project （最終版）

記録する変更:
バージョン管理ウィンドウに変更内容を記載

例:
v1 → v2: AsLSのlambdaを10^5から10^6に変更
v2 → v3: 外れ値3サンプルを除去
v3 → final: 論文用の最終版
```

### 変更履歴

```
ファイル → バージョン → 履歴を表示

表示内容:
- バージョン番号
- 日時
- 変更者
- 変更内容
- データ数
- 主な設定

例:
v1.0 | 2026-01-20 10:30 | User A | 初期版 | 150 spectra
v1.1 | 2026-01-21 14:20 | User A | 前処理調整 | 150 spectra
v2.0 | 2026-01-22 09:15 | User B | 外れ値除去 | 147 spectra
v2.1 | 2026-01-23 16:45 | User A | ML追加 | 147 spectra
```

### バージョンの比較

```
ファイル → バージョン → 比較

2つのバージョンを選択

差分表示:
- データの変更
- パラメータの変更
- 結果の比較

例:
v1 vs v2:
データ: 変更なし
前処理: AsLS lambda 10^5 → 10^6
PCA: Explained variance 70% → 78%
```

---

## テンプレート

### テンプレートの作成

```
ファイル → テンプレートとして保存

含まれる内容:
✓ 前処理パイプライン
✓ 分析ワークフロー
✓ プロット設定
✓ エクスポート設定

含まれない内容:
✗ 実際のデータ

用途:
- 標準的なワークフローの定義
- 新しいプロジェクトの高速スタート
- 共同研究での一貫性確保
```

### テンプレートの使用

```
ファイル → テンプレートから新規作成

選択肢:
1. 標準テンプレート（アプリ付属）
2. カスタムテンプレート（保存したもの）

効果:
すべての設定が適用された状態でスタート
データをロードするだけ
```

### 標準テンプレート

```
1. 探索的分析テンプレート
   - 基本的な前処理
   - PCA + クラスタリング
   - 統計解析

2. 定量分析テンプレート
   - 高度な前処理
   - 回帰分析
   - ピーク解析

3. 分類テンプレート
   - 分類用前処理
   - 機械学習ワークフロー
   - 評価メトリクス

4. 品質管理テンプレート
   - 標準化された前処理
   - 管理図
   - レポート生成
```

---

## バックアップ戦略

### 自動バックアップ

```
編集 → 環境設定 → バックアップ

設定:
□ 自動バックアップを有効化

スケジュール:
- プロジェクト保存時
- 10分ごと（設定可能）
- アプリ終了時

保存先:
C:\Users\<username>\Documents\RamanApp\Backups\
または
~/Documents/RamanApp/Backups/

保存数:
最新10個（設定可能）

古いバックアップ:
自動削除または手動削除
```

### 手動バックアップ

```
ファイル → バックアップ → 今すぐバックアップ

バックアップ先を選択:
- ローカルディレクトリ
- 外付けドライブ
- ネットワークドライブ
- クラウドストレージ

推奨バックアップ構造:
Backups/
├── 2026-01/
│   ├── project_20260115_backup.zip
│   ├── project_20260120_backup.zip
│   └── project_20260124_backup.zip
└── 2026-02/
```

### クラウドバックアップ

```
ファイル → バックアップ → クラウド設定

対応サービス:
- Google Drive
- Dropbox
- OneDrive
- 汎用WebDAV

設定:
1. クラウドサービスを選択
2. 認証
3. 同期フォルダを指定
4. 自動/手動を選択

利点:
- 遠隔地バックアップ
- バージョン履歴（サービス依存）
- 共同作業者とのファイル共有
```

### 災害復旧計画

```
推奨バックアップ戦略（3-2-1ルール）:

3つのコピー:
- 作業用（1つ）
- バックアップ（2つ）

2つの異なるメディア:
- ローカルディスク
- 外付けドライブまたはNAS

1つのオフサイト:
- クラウドストレージ

実装例:
1. 作業用プロジェクト（PCのローカルディスク）
2. 自動バックアップ（外付けHDD、毎日）
3. クラウドバックアップ（Google Drive、週1回）
```

### バックアップからの復元

```
ファイル → バックアップ → 復元

手順:
1. バックアップファイルを選択
2. 復元先を指定
3. 復元オプションを選択
   □ 現在のプロジェクトを上書き
   □ 新しいプロジェクトとして開く（推奨）
4. 復元を実行

検証:
復元後、データと設定を確認
```

---

## プロジェクトのメンテナンス

### プロジェクトの最適化

```
ファイル → メンテナンス → 最適化

実行内容:
- 未使用データの削除
- 一時ファイルのクリーンアップ
- インデックスの再構築
- ファイルサイズの縮小

効果:
- ロード時間の短縮
- ファイルサイズの削減
- パフォーマンス向上

推奨頻度:
月に1回、または100回の保存ごと
```

### プロジェクトの検証

```
ファイル → メンテナンス → 検証

チェック項目:
✓ データの整合性
✓ パイプラインの有効性
✓ 結果の再現性
✓ ファイル構造

問題が見つかった場合:
自動修復または手動確認
```

### 不要ファイルのクリーンアップ

```
ファイル → メンテナンス → クリーンアップ

削除対象:
- 一時ファイル
- キャッシュ
- 古い自動保存ファイル
- 未使用の図

確認後に削除
```

---

## ベストプラクティス

### 命名規則

```
プロジェクト名:
project_description_date_version.raman_project

良い例:
polymer_characterization_20260124_v1.raman_project
blood_serum_study_batch1_20260124.raman_project
quality_control_jan2026.raman_project

悪い例:
project1.raman_project
new.raman_project
abc.raman_project
```

### フォルダ構造

```
推奨構造:
ProjectRoot/
├── projects/
│   ├── project1.raman_project
│   ├── project2.raman_project
│   └── ...
├── raw_data/
│   ├── batch1/
│   ├── batch2/
│   └── ...
├── processed_data/
│   └── ...
├── results/
│   ├── figures/
│   ├── tables/
│   └── reports/
├── pipelines/
│   ├── standard.pipeline.json
│   ├── quantitative.pipeline.json
│   └── ...
├── templates/
│   └── ...
└── backups/
    └── ...
```

### ドキュメント化

```
プロジェクト設定 → ドキュメント

記載すべき情報:
1. プロジェクトの目的
2. 実験条件
3. サンプル情報
4. 前処理の理由
5. 分析の目標
6. 結果の解釈
7. 変更履歴

例:
プロジェクト名: ポリマー品質管理
目的: 製造バッチ間の品質比較
サンプル: バッチA（n=50）、バッチB（n=50）
測定条件: 785nm励起、10秒露光、3回平均
前処理: AsLS（lambda=10^6）でベースライン除去、
        SG（window=11）でスムージング
分析: PCA + K-means（k=3）で品質グループ分類
結果: バッチAは均一、バッチBは2つのサブグループ
アクション: バッチBの製造プロセスを要調査
```

---

## 🔗 関連ドキュメント

- **[データインポートガイド](importing-data_ja.md)** - データのロード
- **[前処理ガイド](preprocessing_ja.md)** - データの前処理
- **[分析ガイド](analysis_ja.md)** - データ分析
- **[FAQ](../faq_ja.md)** - よくある質問

---

**最終更新**: 2026年1月24日 | **バージョン**: 1.0.0
