# API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

ãƒ©ãƒãƒ³åˆ†å…‰åˆ†æã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œå…¨ãªAPIä»•æ§˜

---

## ğŸ“– æ¦‚è¦

ã“ã®APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã¯ã€é–‹ç™ºè€…ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€é–¢æ•°ã€ãŠã‚ˆã³ã‚¯ãƒ©ã‚¹ã‚’ç†è§£ã—ä½¿ç”¨ã™ã‚‹ãŸã‚ã®å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚

---

## ğŸ¯ å¯¾è±¡èª­è€…

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™ºè€…

ã‚«ã‚¹ã‚¿ãƒ æ©Ÿèƒ½ã‚’è¿½åŠ ã¾ãŸã¯æ‹¡å¼µã—ãŸã„é–‹ç™ºè€…ï¼š

- **[ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](core.md)** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºç¤
- **[ãƒšãƒ¼ã‚¸](pages.md)** - UIãƒšãƒ¼ã‚¸ã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **[ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](components.md)** - å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ é–‹ç™ºè€…

æ–°ã—ã„åˆ†ææ‰‹æ³•ã‚„å‰å‡¦ç†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’è¿½åŠ ã—ãŸã„ç ”ç©¶è€…ï¼š

- **[é–¢æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](functions.md)** - å‡¦ç†é–¢æ•°ã¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- **å‰å‡¦ç†ãƒ¬ã‚¸ã‚¹ãƒˆãƒª** - æº–å‚™ä¸­ï¼ˆã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†æ‰‹æ³•ã®ç™»éŒ²ï¼‰
- **åˆ†æãƒ—ãƒ©ã‚°ã‚¤ãƒ³** - æº–å‚™ä¸­ï¼ˆã‚«ã‚¹ã‚¿ãƒ åˆ†ææ‰‹æ³•ï¼‰

### UIé–‹ç™ºè€…

ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚„ãƒ“ãƒ¥ãƒ¼ã‚’ä½œæˆã—ãŸã„é–‹ç™ºè€…ï¼š

- **[ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ](widgets.md)** - ã‚«ã‚¹ã‚¿ãƒ Qtã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
- **å¯è¦–åŒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ** - æº–å‚™ä¸­ï¼ˆã‚°ãƒ©ãƒ•ã¨ãƒ—ãƒ­ãƒƒãƒˆï¼‰
- **ãƒ€ã‚¤ã‚¢ãƒ­ã‚°** - æº–å‚™ä¸­ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼‰

---

## ğŸ“š APIã‚»ã‚¯ã‚·ãƒ§ãƒ³

### ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºæœ¬æ§‹é€ ã¨æ©Ÿèƒ½

**ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«**:
- `main.py` - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
- `utils.py` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
- `dev_runner.py` - é–‹ç™ºãƒ¢ãƒ¼ãƒ‰å®Ÿè¡Œ
- `splash_screen.py` - ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã‚¹ã‚¯ãƒªãƒ¼ãƒ³

[è©³ç´°ã‚’è¦‹ã‚‹ â†’](core.md)

### ãƒšãƒ¼ã‚¸ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å„ãƒšãƒ¼ã‚¸ã¨ãã®ãƒ­ã‚¸ãƒƒã‚¯

**ãƒšãƒ¼ã‚¸**:
- `HomePage` - ãƒ›ãƒ¼ãƒ ç”»é¢
- `DataPackagePage` - ãƒ‡ãƒ¼ã‚¿ç®¡ç†
- `PreprocessPage` - ã‚¹ãƒšã‚¯ãƒˆãƒ«å‰å‡¦ç†
- `AnalysisPage` - ãƒ‡ãƒ¼ã‚¿åˆ†æ
- `MachineLearningPage` - æ©Ÿæ¢°å­¦ç¿’
- `WorkspacePage` - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†

[è©³ç´°ã‚’è¦‹ã‚‹ â†’](pages.md)

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**:
- `AppTabs` - ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- `PageRegistry` - ãƒšãƒ¼ã‚¸ç™»éŒ²ã‚·ã‚¹ãƒ†ãƒ 
- `Toast` - é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- `SpectrumViewer` - ã‚¹ãƒšã‚¯ãƒˆãƒ«è¡¨ç¤º
- `PipelineBuilder` - ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰

[è©³ç´°ã‚’è¦‹ã‚‹ â†’](components.md)

### é–¢æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã¨åˆ†æé–¢æ•°

**ã‚«ãƒ†ã‚´ãƒª**:
- **å‰å‡¦ç†**: 40ä»¥ä¸Šã®å‰å‡¦ç†é–¢æ•°
- **åˆ†æ**: PCAã€UMAPã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°
- **çµ±è¨ˆ**: æ¤œå®šã¨ç›¸é–¢åˆ†æ
- **æ©Ÿæ¢°å­¦ç¿’**: åˆ†é¡ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- **å¯è¦–åŒ–**: ãƒ—ãƒ­ãƒƒãƒˆã¨ã‚°ãƒ©ãƒ•

[è©³ç´°ã‚’è¦‹ã‚‹ â†’](functions.md)

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ã‚«ã‚¹ã‚¿ãƒ Qtã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

**ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ**:
- `ParameterWidget` - ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å…¥åŠ›
- `FloatParameterWidget` - æµ®å‹•å°æ•°ç‚¹å…¥åŠ›
- `ChoiceParameterWidget` - é¸æŠè‚¢å…¥åŠ›
- `MatplotlibWidget` - ã‚°ãƒ©ãƒ•è¡¨ç¤º
- `ResultsPanel` - çµæœè¡¨ç¤º

[è©³ç´°ã‚’è¦‹ã‚‹ â†’](widgets.md)

---

## ğŸ”§ åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

### ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•

```python
from main import main

if __name__ == "__main__":
    main()
```

### ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸ã®ä½œæˆ

```python
from pages.base_page import BasePage
from components.page_registry import PageRegistry

class CustomPage(BasePage):
    """ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸ã®ä¾‹"""
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setup_ui()
    
    def setup_ui(self):
        """UIã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"""
        # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ 
        pass
    
    def get_state(self):
        """ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ã‚’å–å¾—"""
        return {}
    
    def set_state(self, state):
        """ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ã‚’è¨­å®š"""
        pass

# ãƒšãƒ¼ã‚¸ã‚’ç™»éŒ²
PageRegistry.register_page(
    "custom",
    CustomPage,
    "ã‚«ã‚¹ã‚¿ãƒ ãƒšãƒ¼ã‚¸",
    icon="custom_icon.png"
)
```

### ã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†é–¢æ•°ã®è¿½åŠ 

```python
from functions.preprocess.registry import MethodRegistry
import numpy as np

def custom_preprocessing(spectrum, param1=10, param2=0.5):
    """
    ã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†é–¢æ•°
    
    Parameters
    ----------
    spectrum : np.ndarray
        å…¥åŠ›ã‚¹ãƒšã‚¯ãƒˆãƒ«
    param1 : int
        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿1ã®èª¬æ˜
    param2 : float
        ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿2ã®èª¬æ˜
    
    Returns
    -------
    np.ndarray
        å‡¦ç†æ¸ˆã¿ã‚¹ãƒšã‚¯ãƒˆãƒ«
    """
    # ã‚«ã‚¹ã‚¿ãƒ å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯
    processed = spectrum * param2 + param1
    return processed

# ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ç™»éŒ²
MethodRegistry.register(
    name="custom_method",
    function=custom_preprocessing,
    category="Custom",
    description="ã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†æ‰‹æ³•",
    parameters={
        "param1": {"type": "int", "default": 10, "min": 1, "max": 100},
        "param2": {"type": "float", "default": 0.5, "min": 0.0, "max": 1.0}
    }
)
```

### ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ä½œæˆ

```python
from PyQt6.QtWidgets import QWidget, QVBoxLayout, QLabel
from PyQt6.QtCore import pyqtSignal

class CustomWidget(QWidget):
    """ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ä¾‹"""
    
    # ã‚«ã‚¹ã‚¿ãƒ ã‚·ã‚°ãƒŠãƒ«
    value_changed = pyqtSignal(object)
    
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setup_ui()
    
    def setup_ui(self):
        """UIã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"""
        layout = QVBoxLayout()
        self.label = QLabel("ã‚«ã‚¹ã‚¿ãƒ ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ")
        layout.addWidget(self.label)
        self.setLayout(layout)
    
    def set_value(self, value):
        """å€¤ã‚’è¨­å®š"""
        self.label.setText(str(value))
        self.value_changed.emit(value)
    
    def get_value(self):
        """å€¤ã‚’å–å¾—"""
        return self.label.text()
```

---

## ğŸ“Š ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

### ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ (Presentation)â”‚
â”‚   - ãƒšãƒ¼ã‚¸ (Pages)                  â”‚
â”‚   - ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ (Widgets)          â”‚
â”‚   - ãƒ€ã‚¤ã‚¢ãƒ­ã‚° (Dialogs)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå±¤ (Component)       â”‚
â”‚   - AppTabs                         â”‚
â”‚   - PageRegistry                    â”‚
â”‚   - SpectrumViewer                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤ (Business Logic)â”‚
â”‚   - å‰å‡¦ç†é–¢æ•°                      â”‚
â”‚   - åˆ†æé–¢æ•°                        â”‚
â”‚   - æ©Ÿæ¢°å­¦ç¿’é–¢æ•°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒ‡ãƒ¼ã‚¿å±¤ (Data)                   â”‚
â”‚   - ãƒ•ã‚¡ã‚¤ãƒ«I/O                     â”‚
â”‚   - è¨­å®šç®¡ç†                        â”‚
â”‚   - ãƒ¢ãƒ‡ãƒ«ä¿å­˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰
   User â†’ DataPackagePage â†’ data_loader â†’ DataFrame

2. å‰å‡¦ç†
   User â†’ PreprocessPage â†’ Pipeline â†’ preprocess_functions â†’ processed_data

3. åˆ†æ
   User â†’ AnalysisPage â†’ analysis_functions â†’ results â†’ Visualization

4. æ©Ÿæ¢°å­¦ç¿’
   User â†’ MachineLearningPage â†’ ML_functions â†’ model â†’ predictions
```

### ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```python
# Qtã‚·ã‚°ãƒŠãƒ«/ã‚¹ãƒ­ãƒƒãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
class DataPage(BasePage):
    # ã‚·ã‚°ãƒŠãƒ«å®šç¾©
    data_loaded = pyqtSignal(object)
    groups_changed = pyqtSignal(dict)
    
    def load_data(self, filepath):
        """ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ­ãƒ¼ãƒ‰"""
        data = load_csv(filepath)
        self.data_loaded.emit(data)  # ã‚·ã‚°ãƒŠãƒ«ã‚’ç™ºç«
    
    def create_group(self, name, samples):
        """ã‚°ãƒ«ãƒ¼ãƒ—ã‚’ä½œæˆ"""
        self.groups[name] = samples
        self.groups_changed.emit(self.groups)  # ã‚·ã‚°ãƒŠãƒ«ã‚’ç™ºç«

# åˆ¥ã®ãƒšãƒ¼ã‚¸ã§ã‚·ã‚°ãƒŠãƒ«ã‚’å—ä¿¡
class AnalysisPage(BasePage):
    def __init__(self, parent=None):
        super().__init__(parent)
        # ãƒ‡ãƒ¼ã‚¿ãƒšãƒ¼ã‚¸ã®ã‚·ã‚°ãƒŠãƒ«ã«æ¥ç¶š
        data_page.data_loaded.connect(self.on_data_loaded)
        data_page.groups_changed.connect(self.on_groups_changed)
    
    def on_data_loaded(self, data):
        """ãƒ‡ãƒ¼ã‚¿ãƒ­ãƒ¼ãƒ‰æ™‚ã«å‘¼ã°ã‚Œã‚‹"""
        self.data = data
        self.update_ui()
    
    def on_groups_changed(self, groups):
        """ã‚°ãƒ«ãƒ¼ãƒ—å¤‰æ›´æ™‚ã«å‘¼ã°ã‚Œã‚‹"""
        self.groups = groups
        self.update_group_selector()
```

---

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³

### 1. Model-View ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
# Model: ãƒ‡ãƒ¼ã‚¿ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
class PreprocessingModel:
    def __init__(self):
        self.pipeline = []
        self.data = None
    
    def add_step(self, method, params):
        """ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã«ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ """
        self.pipeline.append((method, params))
    
    def apply_pipeline(self, data):
        """ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é©ç”¨"""
        result = data.copy()
        for method, params in self.pipeline:
            result = method(result, **params)
        return result

# View: UIã¨è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯
class PreprocessingView(QWidget):
    def __init__(self, model):
        super().__init__()
        self.model = model
        self.setup_ui()
    
    def setup_ui(self):
        """UIã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"""
        # UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
        pass
    
    def update_display(self):
        """ãƒ¢ãƒ‡ãƒ«ã®çŠ¶æ…‹ã‚’è¡¨ç¤º"""
        # ãƒ“ãƒ¥ãƒ¼ã‚’æ›´æ–°
        pass

# Controller: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã®å‡¦ç†
class PreprocessPage(BasePage):
    def __init__(self):
        super().__init__()
        self.model = PreprocessingModel()
        self.view = PreprocessingView(self.model)
    
    def on_add_step(self):
        """ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸ"""
        method, params = self.view.get_selected_method()
        self.model.add_step(method, params)
        self.view.update_display()
```

### 2. ãƒ¬ã‚¸ã‚¹ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³

```python
class MethodRegistry:
    """å‰å‡¦ç†æ‰‹æ³•ã®ãƒ¬ã‚¸ã‚¹ãƒˆãƒª"""
    
    _methods = {}
    
    @classmethod
    def register(cls, name, function, category, **metadata):
        """æ‰‹æ³•ã‚’ç™»éŒ²"""
        cls._methods[name] = {
            "function": function,
            "category": category,
            "metadata": metadata
        }
    
    @classmethod
    def get(cls, name):
        """æ‰‹æ³•ã‚’å–å¾—"""
        return cls._methods.get(name)
    
    @classmethod
    def list_by_category(cls, category):
        """ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«æ‰‹æ³•ã‚’ãƒªã‚¹ãƒˆ"""
        return [
            name for name, info in cls._methods.items()
            if info["category"] == category
        ]

# ä½¿ç”¨ä¾‹
MethodRegistry.register(
    "asls",
    asls_baseline,
    "Baseline Correction",
    description="Asymmetric Least Squares",
    parameters={"lambda": 100000, "p": 0.01}
)
```

### 3. ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³

```python
class ParameterWidgetFactory:
    """ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼"""
    
    @staticmethod
    def create(param_type, name, **kwargs):
        """ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚’ä½œæˆ"""
        if param_type == "float":
            return FloatParameterWidget(name, **kwargs)
        elif param_type == "int":
            return IntParameterWidget(name, **kwargs)
        elif param_type == "choice":
            return ChoiceParameterWidget(name, **kwargs)
        elif param_type == "bool":
            return BoolParameterWidget(name, **kwargs)
        else:
            raise ValueError(f"Unknown parameter type: {param_type}")

# ä½¿ç”¨ä¾‹
widget = ParameterWidgetFactory.create(
    "float",
    "lambda",
    default=100000,
    min=1,
    max=1000000
)
```

---

## ğŸ”Œ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ

### ã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†æ‰‹æ³•ã®è¿½åŠ 

```python
# 1. é–¢æ•°ã‚’å®šç¾©
def custom_method(spectrum, param1, param2):
    """ã‚«ã‚¹ã‚¿ãƒ å‰å‡¦ç†æ‰‹æ³•"""
    # å®Ÿè£…
    return processed_spectrum

# 2. ãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ç™»éŒ²
MethodRegistry.register(
    name="custom_method",
    function=custom_method,
    category="Custom",
    description="ã‚«ã‚¹ã‚¿ãƒ æ‰‹æ³•ã®èª¬æ˜",
    parameters={
        "param1": {"type": "float", "default": 1.0},
        "param2": {"type": "int", "default": 10}
    }
)

# 3. è‡ªå‹•çš„ã«UIã«è¡¨ç¤ºã•ã‚Œã‚‹
```

### ã‚«ã‚¹ã‚¿ãƒ åˆ†ææ‰‹æ³•ã®è¿½åŠ 

```python
# 1. åˆ†æé–¢æ•°ã‚’å®šç¾©
def custom_analysis(data, param1, param2):
    """ã‚«ã‚¹ã‚¿ãƒ åˆ†ææ‰‹æ³•"""
    # å®Ÿè£…
    return results

# 2. AnalysisPageã«çµ±åˆ
class AnalysisPage(BasePage):
    def __init__(self):
        super().__init__()
        self.register_method("custom_analysis", custom_analysis)
    
    def run_custom_analysis(self):
        """ã‚«ã‚¹ã‚¿ãƒ åˆ†æã‚’å®Ÿè¡Œ"""
        results = custom_analysis(self.data, param1, param2)
        self.display_results(results)
```

### ã‚«ã‚¹ã‚¿ãƒ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼ã®è¿½åŠ 

```python
class CustomExporter:
    """ã‚«ã‚¹ã‚¿ãƒ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã‚¯ãƒ©ã‚¹"""
    
    @staticmethod
    def export(data, filepath, **options):
        """ãƒ‡ãƒ¼ã‚¿ã‚’ã‚«ã‚¹ã‚¿ãƒ å½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"""
        # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ­ã‚¸ãƒƒã‚¯
        pass

# ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ¬ã‚¸ã‚¹ãƒˆãƒªã«ç™»éŒ²
ExportRegistry.register(
    format="custom",
    exporter=CustomExporter,
    extensions=[".custom"],
    description="ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ"
)
```

---

## ğŸ“– è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è©³ç´°ãªAPIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ä»¥ä¸‹ã®ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ï¼š

- **[ã‚³ã‚¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«](core.md)** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®åŸºç¤
- **[ãƒšãƒ¼ã‚¸](pages.md)** - UIãƒšãƒ¼ã‚¸ã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **[ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ](components.md)** - å†åˆ©ç”¨å¯èƒ½ãªUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **[é–¢æ•°](functions.md)** - å‡¦ç†é–¢æ•°ã¨ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  (60ä»¥ä¸Šã®é–¢æ•°)
- **[ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ](widgets.md)** - ã‚«ã‚¹ã‚¿ãƒ Qtã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

---

## ğŸ”— é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

### é–‹ç™ºã‚¬ã‚¤ãƒ‰

- **[ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](../dev-guide/architecture.md)** - ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®è©³ç´°
- **[è²¢çŒ®ã‚¬ã‚¤ãƒ‰](../dev-guide/contributing.md)** - é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **[ãƒ†ã‚¹ãƒˆã‚¬ã‚¤ãƒ‰](../dev-guide/testing.md)** - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰](../user-guide/index.md)** - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½¿ç”¨æ–¹æ³•
- **[åˆ†ææ‰‹æ³•](../analysis-methods/index.md)** - æ‰‹æ³•ã®è©³ç´°

### å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹

- **[PyQt6ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.riverbankcomputing.com/static/Docs/PyQt6/)** - Qt API
- **[NumPyãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://numpy.org/doc/)** - æ•°å€¤è¨ˆç®—
- **[scikit-learnãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://scikit-learn.org/stable/)** - æ©Ÿæ¢°å­¦ç¿’

---

## ğŸ’¡ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

```python
# Googleã‚¹ã‚¿ã‚¤ãƒ«ã®docstring
def process_spectrum(
    spectrum: np.ndarray,
    method: str,
    **params
) -> np.ndarray:
    """
    ã‚¹ãƒšã‚¯ãƒˆãƒ«ã‚’å‡¦ç†ã™ã‚‹
    
    Parameters
    ----------
    spectrum : np.ndarray
        å…¥åŠ›ã‚¹ãƒšã‚¯ãƒˆãƒ« (n_points,)
    method : str
        å‡¦ç†æ‰‹æ³•ã®åå‰
    **params
        æ‰‹æ³•å›ºæœ‰ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
    
    Returns
    -------
    np.ndarray
        å‡¦ç†æ¸ˆã¿ã‚¹ãƒšã‚¯ãƒˆãƒ« (n_points,)
    
    Raises
    ------
    ValueError
        æœªçŸ¥ã®æ‰‹æ³•ãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆ
    
    Examples
    --------
    >>> spectrum = np.random.rand(1000)
    >>> processed = process_spectrum(spectrum, "asls", lambda=100000)
    """
    # å®Ÿè£…
    pass
```

### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```python
from typing import Optional

class PreprocessingError(Exception):
    """å‰å‡¦ç†ã‚¨ãƒ©ãƒ¼ã®åŸºåº•ã‚¯ãƒ©ã‚¹"""
    pass

class InvalidParameterError(PreprocessingError):
    """ç„¡åŠ¹ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼"""
    pass

def safe_preprocessing(
    spectrum: np.ndarray,
    method: str,
    **params
) -> Optional[np.ndarray]:
    """
    å®‰å…¨ãªå‰å‡¦ç†å®Ÿè¡Œ
    
    ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒã—ã¦ãƒ­ã‚°ã«è¨˜éŒ²
    """
    try:
        result = apply_method(spectrum, method, **params)
        return result
    except InvalidParameterError as e:
        logger.error(f"Invalid parameter: {e}")
        return None
    except PreprocessingError as e:
        logger.error(f"Preprocessing failed: {e}")
        return None
    except Exception as e:
        logger.exception(f"Unexpected error: {e}")
        return None
```

### å‹ãƒ’ãƒ³ãƒˆ

```python
from typing import List, Dict, Tuple, Optional, Union
import numpy as np
import numpy.typing as npt

# å‹ã‚¨ã‚¤ãƒªã‚¢ã‚¹
Spectrum = npt.NDArray[np.float64]
SpectraArray = npt.NDArray[np.float64]  # shape: (n_spectra, n_points)
Parameters = Dict[str, Union[int, float, str, bool]]

def apply_pipeline(
    spectra: SpectraArray,
    pipeline: List[Tuple[str, Parameters]]
) -> Optional[SpectraArray]:
    """
    ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’é©ç”¨
    
    Parameters
    ----------
    spectra : SpectraArray
        å…¥åŠ›ã‚¹ãƒšã‚¯ãƒˆãƒ«é…åˆ—
    pipeline : List[Tuple[str, Parameters]]
        (æ‰‹æ³•å, ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿) ã®ãƒªã‚¹ãƒˆ
    
    Returns
    -------
    Optional[SpectraArray]
        å‡¦ç†æ¸ˆã¿ã‚¹ãƒšã‚¯ãƒˆãƒ«é…åˆ—ã€ã¾ãŸã¯Noneï¼ˆã‚¨ãƒ©ãƒ¼æ™‚ï¼‰
    """
    result = spectra.copy()
    for method_name, params in pipeline:
        result = apply_method(result, method_name, **params)
        if result is None:
            return None
    return result
```

---

## ğŸ†˜ ã‚µãƒãƒ¼ãƒˆ

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **[ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¬ã‚¤ãƒ‰](../user-guide/index.md)** - æ©Ÿèƒ½ã®ä½¿ç”¨æ–¹æ³•
- **[é–‹ç™ºã‚¬ã‚¤ãƒ‰](../dev-guide/index.md)** - é–‹ç™ºã¨ãƒ†ã‚¹ãƒˆ
- **[FAQ](../faq.md)** - ã‚ˆãã‚ã‚‹è³ªå•

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£

- **[GitHub Issues](https://github.com/your-org/raman-app/issues)** - ãƒã‚°å ±å‘Š
- **[GitHub Discussions](https://github.com/your-org/raman-app/discussions)** - è³ªå•ã¨è­°è«–
- **Email**: dev@example.com

---

**æœ€çµ‚æ›´æ–°**: 2026å¹´1æœˆ24æ—¥ | **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
